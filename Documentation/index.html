
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>DocSys API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
    <h1 style="color: lightblue; text-align:center;"> DocSys </h1>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#roles" class="toc-h1 toc-link" data-title="Roles">Roles</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-matching-instances-of-role" class="toc-h2 toc-link" data-title="Roles">Find matching instances of Role</a>
                  </li>
                  <li>
                    <a href="#create-new-role" class="toc-h2 toc-link" data-title="Roles">Create new role</a>
                  </li>
                  <li>
                    <a href="#update-role" class="toc-h2 toc-link" data-title="Roles">Update role</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-matching-instances-of-user" class="toc-h2 toc-link" data-title="Users">Find matching instances of user</a>
                  </li>
                  <li>
                    <a href="#creates-new-user" class="toc-h2 toc-link" data-title="Users">Creates new user</a>
                  </li>
                  <li>
                    <a href="#login-user" class="toc-h2 toc-link" data-title="Users">Login user</a>
                  </li>
                  <li>
                    <a href="#find-user" class="toc-h2 toc-link" data-title="Users">Find user</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Users">Update user</a>
                  </li>
                  <li>
                    <a href="#delete-user" class="toc-h2 toc-link" data-title="Users">Delete user</a>
                  </li>
                  <li>
                    <a href="#search-for-users" class="toc-h2 toc-link" data-title="Users">Search for users</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#documents" class="toc-h1 toc-link" data-title="Documents">Documents</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#find-matching-instances-of-document" class="toc-h2 toc-link" data-title="Documents">Find matching instances of document</a>
                  </li>
                  <li>
                    <a href="#creates-new-documents" class="toc-h2 toc-link" data-title="Documents">Creates new documents</a>
                  </li>
                  <li>
                    <a href="#update-document" class="toc-h2 toc-link" data-title="Documents">Update document</a>
                  </li>
                  <li>
                    <a href="#get-documents-by-id" class="toc-h2 toc-link" data-title="Documents">Get Documents by ID</a>
                  </li>
                  <li>
                    <a href="#get-documents-by-userid" class="toc-h2 toc-link" data-title="Documents">Get Documents by UserId</a>
                  </li>
                  <li>
                    <a href="#get-documents-by-roleid" class="toc-h2 toc-link" data-title="Documents">Get Documents by roleId</a>
                  </li>
                  <li>
                    <a href="#delete-documents" class="toc-h2 toc-link" data-title="Documents">Delete documents</a>
                  </li>
                  <li>
                    <a href="#search-for-documents-based-on-title" class="toc-h2 toc-link" data-title="Documents">Search for documents based on title</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><p>© 2017 Ajaps Franklin</p></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Document mananagment System API (DocSys)! You can use our API to manage documents, The API provides login and signup route, autenticated routes for create, updating and searching documents, users and roles.</p>

<p>Each user has a record contaning email, password and roleID. A user record is created when the user signs up.
Each Document also have a record containing Document title, content, access type which can either be &#39;public&#39;, &#39;private&#39; or &#39;role&#39;, this determines who can view the document.
A new user is assigned a role of &#39;regular&#39;, The Admin can change a user&#39;s role at anytime and he can also update the role records in the database except the &#39;Admin&#39; record.</p>

<p>All APIs in DocSys are RESTful, you can be assure of consistent response for all request made.</p>
<h1 id='authentication'>Authentication</h1>
<p>All routes are protected and needs a valid token except the login and signup routes.
To get a token, the user signs up or logs in(If the user has signed up previously).
A token is included in the response from the signup/login route, this token expires after 12hours.
With a valid token a user can create/update/delete or search for documents, the request must contain the valid token on the header of the request in the following format.</p>

<p><code>Authorization: token</code></p>

<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">body</span><span class="o">=</span><span class="p">{</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'johndoe@email.com'</span><span class="p">,</span>
  <span class="na">password</span><span class="p">:</span> <span class="s1">'password'</span>
<span class="p">}</span>

<span class="nx">POST</span> <span class="o">/</span><span class="nx">users</span><span class="o">/</span>
</code></pre>
<blockquote>
<p>Response.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New user created successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InJvbGVJZCI6MiwiaWQiOjMyLCJ1c2VybmFtZSI6InRydW50IiwiZW1haWwiOiIxYWphcHNAeWFob28uY29tIiwicGFzc3dvcmQiOiIkMmEkMTAkS3FpbzVUdWxpZXFLUU5vY0xEaUdZT08wTmJ4ME9yQXBOc3RwSFRMcjNBZUttc2o5ODFMU0MiLCJ1cGRhdGVkQXQiOiIyMDE3LTA4LTE2IiwiY3JlYXRlZEF0IjoiMjAxNy0wOC0xNiJ9LCJpYXQiOjE1MDI5MjU2ODAsImV4cCI6MTUwMjk2ODg4MH0.te0d7UcG3O21BWkVY8AHYnUKUD8yTBq1bUn8U5W7hX8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="notice">
You must replace <code>token</code> with your personal token.
</aside>
<h1 id='roles'>Roles</h1><h2 id='find-matching-instances-of-role'>Find matching instances of Role</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">GET</span> <span class="o">/</span><span class="nx">roles</span><span class="o">/</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roles retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regular"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fellow"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facilitator"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-14"</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all available roles.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /api/v1/roles</code></p>

<p>Status: <code>200: Ok - retrieved successfully</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>none</td>
<td>null</td>
<td>requires no parameter - gets all available roles in the database</td>
</tr>
</tbody></table>

<aside class="success">
Remember — it requires no parameter and it retrieves all roles in the database!
</aside>
<h2 id='create-new-role'>Create new role</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">roleName</span><span class="p">:</span><span class="w"> </span><span class="err">student</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">POST</span><span class="w"> </span><span class="err">/roles/</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new role created successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"student"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-02T21:39:35.106Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-02T21:39:35.106Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new role, if the role doesnt already exist.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /api/v1/roles</code></p>

<p>Body <code>(application/json)</code></p>

<p><code>Requires: Admin Authorization</code></p>
<h3 id='http-response'>HTTP response</h3>
<p>Status: <code>201: created</code></p>

<p>Status: <code>409: conflict - roleName already exist</code></p>

<p>Status: <code>406: Not acceptable - roleName must be a string</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>roleName</td>
<td>The name of the role to create</td>
</tr>
</tbody></table>

<aside class="success">
Remember — Only an Admin can create roles!
</aside>
<h2 id='update-role'>Update role</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">roleName</span><span class="p">:</span><span class="w"> </span><span class="err">'student</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">PUT</span><span class="w"> </span><span class="err">/roles/</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"updated successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates a specific role.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT /api/v1/roles/&lt;ID&gt;</code></p>

<p>Body <code>(application/json)</code></p>
<h3 id='http-response-2'>HTTP response</h3>
<p>Status: <code>200: Ok - updated successfully</code></p>

<p>Status: <code>403: Forbidden - cannot update Admin role</code></p>

<p>Status: <code>412: pre condition failed - The role ID must be a number</code></p>

<p>Status: <code>409: Conflict - An unexpected error occured, updating the role may cause conflict or the server took too long to respond to your request</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the role to update</td>
</tr>
</tbody></table>

<aside class="success">
Remember — Only an Admin can update any record on the roles table, expect the 
first roleID - Admin
</aside>
<h1 id='users'>Users</h1><h2 id='find-matching-instances-of-user'>Find matching instances of user</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">GET</span> <span class="o">/</span><span class="nx">users</span><span class="o">/</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ajaps Franklin"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trunt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky234"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ajaps Franklin"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all available users.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /api/v1/users</code></p>
<h3 id='http-response-3'>HTTP response</h3>
<p>Status: <code>200: ok</code></p>

<p>Status: <code>500: Bad request - An unexpected error occured</code></p>

<aside class="success">
Remember — The user must be authenticated, to view available users!
</aside>
<h2 id='creates-new-user'>Creates new user</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">email</span><span class="p">:</span><span class="w"> </span><span class="err">johndoe@email</span><span class="p">,</span><span class="w">
  </span><span class="err">password</span><span class="p">:</span><span class="w"> </span><span class="err">'password'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New user created successfully"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InJvbGVJZCI6MiwiaWQiOjUsImVtYWlsIjoiam9obmRvZUBlbWFpbC5jb20iLCJwYXNzd29yZCI6IiQyYSQxMCRtUXBCWHYxbDRkVHJqamFQMmVFUVd1ZEx2NGJOZ2NBZHZYdGIuMXI1WHpJb2RGcmRYU25DNiIsInVwZGF0ZWRBdCI6IjIwMTctMDgtMDJUMTY6MjM6NDMuMzY2WiIsImNyZWF0ZWRBdCI6IjIwMTctMDgtMDJUMTY6MjM6NDMuMzY2WiJ9LCJpYXQiOjE1MDE2OTEwMjMsImV4cCI6MTUwMTczNDIyM30.jJ8UJkgp5T-xcqgDQ5zRL9FuIdmScFjmAunUh7SYxzs"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates new users.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /api/v1/users</code></p>
<h3 id='http-response-4'>HTTP response</h3>
<p>Status: <code>201: created</code></p>

<p>Status: <code>409: conflict - Email already exists</code></p>

<p>Status: <code>412: pre-condition failed - email and/or password did not meet minimum requirements</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the user</td>
</tr>
<tr>
<td>password</td>
<td>The password of the user</td>
</tr>
<tr>
<td>username</td>
<td>The Username</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The email must be valid and password length should be 8 or more!
</aside>
<h2 id='login-user'>Login user</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">email</span><span class="p">:</span><span class="w"> </span><span class="err">johndoe@email</span><span class="p">,</span><span class="w">
  </span><span class="err">password</span><span class="p">:</span><span class="w"> </span><span class="err">'password'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Logged in successfully"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InJvbGVJZCI6MiwiaWQiOjUsImVtYWlsIjoiam9obmRvZUBlbWFpbC5jb20iLCJwYXNzd29yZCI6IiQyYSQxMCRtUXBCWHYxbDRkVHJqamFQMmVFUVd1ZEx2NGJOZ2NBZHZYdGIuMXI1WHpJb2RGcmRYU25DNiIsInVwZGF0ZWRBdCI6IjIwMTctMDgtMDJUMTY6MjM6NDMuMzY2WiIsImNyZWF0ZWRBdCI6IjIwMTctMDgtMDJUMTY6MjM6NDMuMzY2WiJ9LCJpYXQiOjE1MDE2OTEwMjMsImV4cCI6MTUwMTczNDIyM30.jJ8UJkgp5T-xcqgDQ5zRL9FuIdmScFjmAunUh7SYxzs"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint logs in user into the application.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /api/v1/users</code></p>
<h3 id='http-response-5'>HTTP response</h3>
<p>Status: <code>202: Accpeted - Email and password matches, logged in successfully</code></p>

<p>Status: <code>401: Unauthorized - wrong email or password</code></p>

<p>Status: <code>412: Pre-condition failed - email and/or password did not meet minimum requirements</code></p>

<p>Status: <code>404: Not Found - email and/or password not found</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the user</td>
</tr>
<tr>
<td>password</td>
<td>The password of the user</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The email must be valid and password length should be 8 or more!
</aside>
<h2 id='find-user'>Find user</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ajaps1@yahoo.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint finds user that matches the ID.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /api/v1/users/&lt;id&gt;</code></p>
<h3 id='http-response-6'>HTTP response</h3>
<p>Status: <code>200: ok</code></p>

<p>Status: <code>404: not found - the ID does not match any in the database</code></p>

<p>Status: <code>412: pre-condition failed - ID must be a number</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The ID must be a number!
</aside>
<h2 id='update-user'>Update user</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">email</span><span class="p">:</span><span class="w"> </span><span class="err">johndoe@email</span><span class="p">,</span><span class="w">
  </span><span class="err">password</span><span class="p">:</span><span class="w"> </span><span class="err">'password'</span><span class="w">
  </span><span class="err">roleId</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User updated successfully"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint logs in user into the application.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>PUT /api/v1/users/&lt;id&gt;</code></p>
<h3 id='http-response-7'>HTTP response</h3>
<p>Status: <code>200: ok</code></p>

<p>Status: <code>401: unauthorized - The specified userId does not belong to you</code></p>

<p>Status: <code>409: conflict - could not find the specified (role/user) ID in the database</code></p>
<h3 id='url-parameters-6'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the user</td>
</tr>
<tr>
<td>password</td>
<td>The password of the user</td>
</tr>
<tr>
<td>roleId</td>
<td>The new roleId of the user</td>
</tr>
</tbody></table>

<aside class="success">
Remember — A user can only updates his/her record(except the roleId), while an Admin can update any users' record
</aside>
<h2 id='delete-user'>Delete user</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">DELETE</span> <span class="o">/</span><span class="nx">users</span><span class="o">/</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User deleted successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes secified user.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>DELETE /api/v1/users/&lt;id&gt;</code></p>
<h3 id='http-response-8'>HTTP response</h3>
<p>Status: <code>200: Ok - Deleted</code></p>

<p>Status: <code>401: Unauthorized - The specified userId does not belong to you</code></p>

<p>Status: <code>404: Bad request - The UserId does not exist</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-7'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to delete</td>
</tr>
</tbody></table>

<aside class="success">
Remember — An Admin can delete any user from the database while a user can only delete his/her record
</aside>
<h2 id='search-for-users'>Search for users</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky234"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"framky234"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"roleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for users email that matches the query.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /api/v1/search/users/?q={userEmail}</code></p>
<h3 id='http-response-9'>HTTP response</h3>
<p>Status: <code>200: Ok - The query matches user(s) in the database</code></p>

<p>Status: <code>404: Not found - the query did not match any user in the database</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-8'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>The query(search) string</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The query is executed on the user's email!
</aside>
<h1 id='documents'>Documents</h1><h2 id='find-matching-instances-of-document'>Find matching instances of document</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">GET</span> <span class="o">/</span><span class="nx">documents</span><span class="o">/</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"documents retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The definition of computer is"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 105"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Did i do that? did i really do that?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Tortoise, Lion and Lizard 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Once upon a time...... tiime time"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all available documents.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET /api/v1/documents</code></p>
<h3 id='http-response-10'>HTTP response</h3>
<p>Status: <code>200: ok</code></p>

<p>Status: <code>404: not found - The user does not have required access right to view available documents</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>

<aside class="success">
Remember — The user can only view documents he has access to (same role, public documents and documents created by the user!
</aside>
<h2 id='creates-new-documents'>Creates new documents</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">title</span><span class="p">:</span><span class="w"> </span><span class="err">'The</span><span class="w"> </span><span class="err">Tortoise</span><span class="w"> </span><span class="err">stroy'</span><span class="p">,</span><span class="w">
  </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="err">'Once</span><span class="w"> </span><span class="err">upon</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">time</span><span class="p">,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">land</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">animals...'</span><span class="w">
  </span><span class="err">access</span><span class="p">:</span><span class="w"> </span><span class="err">private</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Document created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Document"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calculus202"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ownerId"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
        </span><span class="s2">"create_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-16"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates new document.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST /api/v1/documents</code></p>
<h3 id='http-response-11'>HTTP response</h3>
<p>Status: <code>201: created</code></p>

<p>Status: <code>409: conflict - Document title already exists</code></p>

<p>Status: <code>409: conflict - Access must be public, private or role. Default:public</code></p>

<p>Status: <code>412: precondition failed - Title must be between 10 - 150 characters and Doc-Content cannot be empty</code></p>
<h3 id='url-parameters-9'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The title of the document</td>
</tr>
<tr>
<td>content</td>
<td>The content of the document</td>
</tr>
<tr>
<td>access</td>
<td>The access type of the document</td>
</tr>
</tbody></table>

<aside class="success">
Remember — access by default is set to - public!
 — The roleId of the document is set to the roleId of the user who created it!
</aside>
<h2 id='update-document'>Update document</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">title</span><span class="p">:</span><span class="w"> </span><span class="err">'The</span><span class="w"> </span><span class="err">Tortoise</span><span class="w"> </span><span class="err">stroy'</span><span class="p">,</span><span class="w">
  </span><span class="err">content</span><span class="p">:</span><span class="w"> </span><span class="err">'Once</span><span class="w"> </span><span class="err">upon</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">time</span><span class="p">,</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">land</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">animals...'</span><span class="w">
  </span><span class="err">access</span><span class="p">:</span><span class="w"> </span><span class="err">private</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"updated successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint updates document the database.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>PUT /api/v1/documents/&lt;id&gt;</code></p>
<h3 id='http-response-12'>HTTP response</h3>
<p>Status: <code>200: ok - Updated</code></p>

<p>Status: <code>400: Bad request - An error was encoutered while updating document, ensure Access is one of public, private or role. Default:public</code></p>

<p>Status: <code>401: Unauthorized - You do not have access to view available documents or there is no Document with the specified ID in the database</code></p>

<p>Status: <code>412: precondition failed - id must be a number</code></p>
<h3 id='url-parameters-10'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>The title of the document</td>
</tr>
<tr>
<td>content</td>
<td>The content of the document</td>
</tr>
<tr>
<td>access</td>
<td>The access type of the document</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The 'access' can be any of public, private or role!
</aside>
<h2 id='get-documents-by-id'>Get Documents by ID</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">     </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retrieved successfully"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"document"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 101"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The definition of computer is"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves documents by Id.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET /api/v1/documents/&lt;id&gt;</code></p>
<h3 id='http-response-13'>HTTP response</h3>
<p>Status: <code>200: Ok - successfully retrieves document</code></p>

<p>Status: <code>401: Not Found - Could not find any document with the specified ID, or you do not have permission to view the document(Private Doc or Document not on same role as user)</code></p>

<p>Status: <code>412: pre-condition failed - ID must be a number</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-11'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the Document</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The endpoint will only retrieve the document where the user has access right to view the document!
</aside>
<h2 id='get-documents-by-userid'>Get Documents by UserId</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The definition of computer is"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint finds documents that matches the userID.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET /api/v1/users/&lt;id&gt;/documents</code></p>
<h3 id='http-response-14'>HTTP response</h3>
<p>Status: <code>200: Ok - retrieves all documents by UserId</code></p>

<p>Status: <code>404: Not Found - Could not find any document with the specified userId, The userId does not exist or you do not have permission to view the document</code></p>

<p>Status: <code>412: pre-condition failed - ID must be a number</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-12'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The ID of the user</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The endpoint will only retrieve documents where the user has access right to view the documents!
</aside>
<h2 id='get-documents-by-roleid'>Get Documents by roleId</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"documents retrieved successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 105"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Did i do that? did i really do that?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Tortoise, Lion and Lizard 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Once upon a time...... tiime time"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint finds documents that matches the userID.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET /api/v1/roles/&lt;id&gt;/documents</code></p>
<h3 id='http-response-15'>HTTP response</h3>
<p>Status: <code>200: ok - retrieves all documents by roleId</code></p>

<p>Status: <code>404: Not Found - Could not find any document with the specified roleId</code></p>

<p>Status: <code>401: Unauthorized - You need access rights to view documents in this role</code></p>

<p>Status: <code>412: pre-condition failed - ID must be a number</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-13'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The role ID</td>
</tr>
</tbody></table>

<aside class="success">
Remember — You can only retrieve documents with same role as the user(requester)!
</aside>
<h2 id='delete-documents'>Delete documents</h2><pre class="highlight javascript tab-javascript"><code>
<span class="nx">DELETE</span> <span class="o">/</span><span class="nx">documents</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted successfully"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint deletes secified document.</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>DELETE /api/v1/documents/&lt;id&gt;</code></p>
<h3 id='http-response-16'>HTTP response</h3>
<p>Status: <code>200: ok - Deleted</code></p>

<p>Status: <code>401: unauthorized - The specified document does not belong to you</code></p>

<p>Status: <code>412: pre condition failed - The document ID must be a number</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-14'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the document to delete</td>
</tr>
</tbody></table>

<aside class="success">
Remember — An Admin can delete any document from the database while a user can only delete his/her document
</aside>
<h2 id='search-for-documents-based-on-title'>Search for documents based on title</h2>
<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successful"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"document"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Who b this goat?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T05:56:48.686Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T05:56:48.686Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Introduction to 104"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Who b this tortoise?"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"access"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T05:56:48.686Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-01T05:56:48.686Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"totalCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint searches for documents title that matches the query.</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET /api/v1/search/documents/?q={doctitle}</code></p>
<h3 id='http-response-17'>HTTP response</h3>
<p>Status: <code>200: Ok - Documents retrieved successfully</code></p>

<p>Status: <code>404: not found - the query did not match any document in the database</code></p>

<p>Status: <code>500: Internal Server Error - The request could not be processed at the moment, try again later</code></p>
<h3 id='url-parameters-15'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>The query(search) string</td>
</tr>
</tbody></table>

<aside class="success">
Remember — The query is executed on the document title!
</aside>
<h1 id='errors'>Errors</h1>
<aside class="notice">Error Codes used in the API.</aside>

<p>The DocSys API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request sucks.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- You need Admin priviledges to access this route.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- You cannot update Admin role.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified record cannot be found in the database.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You made a request with wrong param(s).</td>
</tr>
<tr>
<td>409</td>
<td>Conflict - The record already exists in the database</td>
</tr>
<tr>
<td>412</td>
<td>Pre condition failed - You failed to provide some precondition before accessing this route</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
